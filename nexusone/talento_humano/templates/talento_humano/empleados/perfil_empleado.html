{% extends 'base.html' %}
{% load static %}

{% block title %}Perfil de Empleado | NexusOne{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="text-center mb-4">
        <h2 class="section-title">
            <i class="fas fa-id-badge"></i> Perfil del Empleado
        </h2>
        <p class="text-muted">Detalle completo de {{ empleado.get_nombre_completo }}</p>
    </div>

    <div class="card-modern mb-5">
        <div class="card-body-modern d-flex flex-wrap align-items-center">
            <div class="me-4 mb-3">
                {% if empleado.foto %}
                <img src="{{ empleado.foto.url }}" class="rounded-circle shadow" width="120" height="120" alt="Foto">
                {% else %}
                <div class="avatar-placeholder bg-primary text-white rounded-circle d-flex align-items-center justify-content-center shadow" style="width:120px; height:120px;">
                    {{ empleado.primer_nombre.0 }}{{ empleado.primer_apellido.0 }}
                </div>
                {% endif %}
            </div>
            <div>
                <h4 class="fw-bold mb-1">{{ empleado.get_nombre_completo }}</h4>
                <p class="text-muted mb-2">{{ empleado.cargo }} - {{ empleado.area }}</p>
                <span class="badge {% if empleado.estado == 'activo' %}bg-success{% else %}bg-secondary{% endif %}">
                    {{ empleado.estado|title }}
                </span>
            </div>
        </div>
    </div>

    <div class="row g-4">
        <div class="col-md-6">
            <div class="card-modern">
                <div class="card-header-modern"><i class="fas fa-info-circle"></i><h5>Información Personal</h5></div>
                <div class="card-body-modern">
                    <p><strong>Documento:</strong> {{ empleado.tipo_documento }} {{ empleado.numero_documento }}</p>
                    <p><strong>Fecha Nacimiento:</strong> {{ empleado.fecha_nacimiento|date:"d/m/Y" }}</p>
                    <p><strong>Correo:</strong> {{ empleado.email }}</p>
                    <p><strong>Teléfono:</strong> {{ empleado.telefono }}</p>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card-modern">
                <div class="card-header-modern"><i class="fas fa-briefcase"></i><h5>Información Laboral</h5></div>
                <div class="card-body-modern">
                    <p><strong>Cargo:</strong> {{ empleado.cargo }}</p>
                    <p><strong>Área:</strong> {{ empleado.area }}</p>
                    <p><strong>Fecha Ingreso:</strong> {{ empleado.fecha_ingreso|date:"d/m/Y" }}</p>
                    <p><strong>Tipo Contrato:</strong> {{ empleado.tipo_contrato }}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="text-center mt-5">
        <a href="{% url 'talento_humano:lista_empleados' %}" class="btn-modern-outline">
            <i class="fas fa-arrow-left"></i> Volver
        </a>
    </div>
</div>

<style>
.card-modern {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
    overflow: hidden;
}
.card-header-modern {
    display: flex;
    align-items: center;
    gap: 10px;
    background: linear-gradient(135deg, #007bff, #0056b3);
    color: white;
    padding: 12px 20px;
}
.card-body-modern { padding: 25px; }
.avatar-placeholder {
    font-size: 1.8rem;
    font-weight: bold;
}
.btn-modern-outline {
    background: white;
    color: #007bff;
    border: 2px solid #007bff;
    border-radius: 10px;
    font-weight: 600;
    padding: 10px 18px;
}
.btn-modern-outline:hover {
    background: #007bff;
    color: white;
}
</style>
{% endblock %}
